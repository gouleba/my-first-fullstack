webpackJsonp([1],{"72mS":function(t,e){},FrWF:function(t,e){},JTar:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),o=s("bOdI"),n=s.n(o),i={data:function(){return{title:"登录",account:"",name:"",password:"",type:"log",showName:!1,regOrSub:"注册",LogOrSub:"登录",rutrueInfo:"",loginLock:!1}},mounted:function(){},watch:{showName:{handler:function(t){t?(this.regOrSub="提交并登录",this.title="注册",this.LogOrSub="登录(已锁定)"):(this.regOrSub="注册",this.title="登录",this.LogOrSub="登录")},deep:!0}},methods:{reg:function(){var t=this;if(this.rutrueInfo="",this.showName){var e=this.account&&!/^\s+$/.test(this.account),s=this.name&&!/^\s+$/.test(this.name),a=this.password&&!/^\s+$/.test(this.password);if(e&&s&&a){this.$ajax.post("/api/createAccount",{account:this.account,name:this.name,password:this.password}).then(function(e){2==e.data.status?(t.rutrueInfo="注册成功:",alert("注册成功"),t.$emit("switchingPage",e.data.account)):3==e.data.status&&(t.rutrueInfo="注册失败:该用户已存在",t.account="")}).catch(function(t){console.log(t)})}else this.rutrueInfo="请将信息填写完整"}else this.showName=!0},login:function(){var t=this;if(this.showName)return confirm("您正在注册，确认已有账号返回登录吗？")?(this.showName=!1,this.title="登录",this.rutrueInfo="",this.account="",void(this.password="")):void 0;var e=this.account&&!/^\s+$/.test(this.account),s=this.password&&!/^\s+$/.test(this.password);if(e&&s){var a={account:this.account,password:this.password};this.$ajax.get("/api/loginAccount",{params:a}).then(function(e){1==e.data.status?(t.rutrueInfo="登录成功",t.account="",t.name="",t.password="",t.$emit("switchingPage",e.data.account)):0==e.data.status&&(t.rutrueInfo="用户名或密码错误或无此人")}).catch(function(t){console.log(t)})}else this.rutrueInfo="用户名或密码不能为空"}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[t._m(0),t._v(" "),s("h1",{domProps:{textContent:t._s(t.title)}}),t._v(" "),s("p",{staticClass:"rutrueInfo"},[t._v(t._s(t.rutrueInfo))]),t._v(" "),s("div",{staticClass:"login-top"},[s("div",{staticClass:"login-ic"},[s("i"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),t._v(" "),s("div",{staticClass:"clear"})]),t._v(" "),t.showName?s("div",{staticClass:"login-ic"},[s("i"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),s("div",{staticClass:"clear"})]):t._e(),t._v(" "),s("div",{staticClass:"login-ic"},[s("i",{staticClass:"icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"clear"})]),t._v(" "),s("div",{staticClass:"log-bwn"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.regOrSub,expression:"regOrSub"}],staticClass:"mr20",attrs:{type:"submit"},domProps:{value:t.regOrSub},on:{click:t.reg,input:function(e){e.target.composing||(t.regOrSub=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.LogOrSub,expression:"LogOrSub"}],attrs:{type:"submit",disabled:t.loginLock},domProps:{value:t.LogOrSub},on:{click:t.login,input:function(e){e.target.composing||(t.LogOrSub=e.target.value)}}})])]),t._v(" "),t._m(1),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-login"},[e("span",[e("img",{attrs:{src:"/static/images/group.png",alt:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"copy"},[e("a",[this._v("© 2018 XXXXXX")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"des"},[this._v("由于github无法挂载动态网站，数据请求可能会失败，详见"),e("a",{staticStyle:{color:"yellow"},attrs:{href:"https://github.com/wwilll/my-first-fullstack"}},[this._v("演示截图")]),e("br"),this._v("本登录测试demo使用技术为：vuejs+axios+node+express+mongodb\r\n  主要展示了一个B/S结构的系统运行的大致流程具体思路为：登录模块基础逻辑检测并向后台请求数据，收到响应数据后存储至localstorage，\r\n  刷新不丢失数据，退出可清除本地用户数据")])}]};var c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"forum"},[e("h1",[this._v(this._s(this.account)+"!欢迎登录!")]),this._v(" "),e("button",{on:{click:this.exitLogin}},[this._v("退出登录")])])},staticRenderFns:[]};var u,l=(u={name:"App",data:function(){return{loginOrNot:!0,userAcconut:"",items:[{userAcconut:"",loginOrNot:!0}]}},components:{login:s("VU/8")(i,r,!1,function(t){s("FrWF")},null,null).exports,forum:s("VU/8")({props:["account"],methods:{exitLogin:function(){this.$emit("switchingPage","exit")}}},c,!1,function(t){s("JTar")},null,null).exports},watch:{},mounted:function(){if(!window.localStorage)return alert("浏览器不支持localstorage"),!1;this.storage.getItem("account")?(this.items.userAcconut=this.storage.getItem("account"),"true"==this.storage.getItem("loginOrNot")?this.loginOrNot=!0:this.loginOrNot=!1):this.loginOrNot=!0}},n()(u,"watch",{}),n()(u,"methods",{switchingPage:function(t){"exit"===t?(this.storage.removeItem("account"),this.storage.removeItem("loginOrNot"),this.loginOrNot=!0):(this.storage.setItem("account",t),this.storage.setItem("loginOrNot",!1),this.loginOrNot=!1,this.items.userAcconut=t)}}),u),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.loginOrNot?s("login",{on:{switchingPage:t.switchingPage}}):t._e(),t._v(" "),t.loginOrNot?t._e():s("forum",{attrs:{account:t.items.userAcconut},on:{switchingPage:t.switchingPage}})],1)},staticRenderFns:[]};var v=s("VU/8")(l,h,!1,function(t){s("72mS")},null,null).exports,g=s("/ocq"),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var p=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},m,!1,function(t){s("Ugm9")},"data-v-694cd902",null).exports;a.a.use(g.a);var d=new g.a({routes:[{path:"/",name:"HelloWorld",component:p}]}),_=s("mtWM"),f=s.n(_);a.a.prototype.$ajax=f.a,a.a.config.productionTip=!1,a.a.prototype.storage=window.localStorage,new a.a({el:"#app",router:d,components:{App:v},template:"<App/>"})},Ugm9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a0af804a5cb145868aed.js.map